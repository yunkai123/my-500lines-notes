require_relative 'filter'

class Processor

    attr_reader :dot_product_data, :filtered_data

    def self.run(data)
        processor = Processor.new(data)
        processor.dot_product
        processor.filter
        processor
    end

    def initialize(data)
        @data = data
    end

    def dot_product
        @dot_product_data = @data.map do |x|
            x[0][0] * x[1][0] + x[0][1] * x[1][1] + x[0][2] * x[1][2]
        end
    end

    def filter
        @filtered_data = Filter.low_5_hz(@dot_product_data)
        @filtered_data = Filter.high_1_hz(@filtered_data)
    end

end