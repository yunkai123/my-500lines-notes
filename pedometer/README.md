# Pedometer

用Ruby实现的计步器。

计步器从移动设备获取数据，并输出步数、距离、速度以及本地移动应用程序中常见的其它相关信息。

输入数据可以采用以下两种形式。有关每种类型的数据集的示例，请参见 public/uploads。

- x，y，z的组合加速度。

- x，y，z的用户加速度和x，y，z的重力加速度。

移动设备的计步器应用程序通常是为特定平台编写的，但是本应用程序用 Ruby 编写，并包含一个简单的 API。它说明了在编写此类应用程序时所做的设计选择，而不必受限于平台的具体情况。

## 先决条件

- Ruby 3.0
- gem install bundler
- bundle install

## 运行程序

- 此应用程序使用Sinatra。通过在 pedometer/code 目录下运行 `ruby pedometer.rb` 启动 web服务器。

- 在浏览器中打开 localhost:4567/uploads 。

- 你将看到几个上传示例。这些上传都来自同一次步行，但第一次上传以上面的格式1（组合加速度）解析数据，第二次上传以格式2（用户加速度和重力加速度）解析数据。

- 右边的表单允许你上传数据集、解析数据集并将其保存到文件系统。

- 点击 **Detail** 链接显示更多信息，以及在步数计算的两个主要阶段生成的数据系列中的前 1000 个点。